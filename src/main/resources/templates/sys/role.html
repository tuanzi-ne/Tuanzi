<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<title>角色管理</title>
<head th:include="include :: header"></head>
<body>
<div class="row" style="margin:auto">
    <div class="col-md-9 col-sm-9">
        <div class="panel-body">
            <!-- 过滤条件 -->
            <div class="panel panel-default">
                <div class="panel-heading">查询条件</div>
                <div class="panel-body">
                    <form id="roleFrm" class="form-horizontal">
                        <div class="form-group" shiro:hasPermission="sys:role:list">
                            <div class="col-md-5">
                                <input style="display:none"/>
                                <input type="text" class="form-control" id="roleName" name="roleName"
                                       placeholder="角色名称"
                                       onkeydown="if(event.keyCode===13)query();">
                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-primary" id="btnQuery" onclick="query()">
                                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>&nbsp;查询
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- bootstrap-table工具栏 -->
            <div id="toolbar" class="btn-group">
                <button shiro:hasPermission="sys:role:add" id="btnAdd" type="button" class="btn btn-success">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;新增
                </button>
                <button shiro:hasPermission="sys:role:edit" id="btnEdit" type="button" class="btn btn-info">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;修改
                </button>
                <button shiro:hasPermission="sys:role:delete" id="btnDel" type="button" class="btn btn-danger">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>&nbsp;删除
                </button>
                <button shiro:hasPermission="sys:role:perm" id="btnPerms" type="button" class="btn btn-warning">
                    <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>&nbsp;分配权限
                </button>
            </div>
            <table id="bsTable"></table>
        </div>
    </div>
    <div class="col-md-3 col-sm-3">
        <div class="panel-body">
            <div class="panel panel-default">
                <div class="panel-heading">资源列表</div>
                <div class="panel-body">
                    <!-- 资源列表 -->
                    <ul id="resTree" class="ztree"></ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:include="include :: footer"></div>
<!--角色js-->
<script th:src="@{/js/sys/role.js(t=${#dates.createNow().getTime()})}"></script>
</body>
</html>